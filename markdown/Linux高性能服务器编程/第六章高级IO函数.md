### 管道

- pipe函数可用于创建一个管道，以实现进程间通信。
- `int pipe(int fd[2]);`
  - 成功时返回0，将一对打开的文件描述符填入其参数指向的数组，失败返回-1。
  - fd[0]和fd[1]分别构成管道两端。fd[0]读出，fd[1]读入。
  - 要实现双向数据传输，要用两个管道。
  - 默认情况下一对文件描述符都是阻塞的。
  - 若fd[0]的引用计数减少到0，则fd[1]的write操作将失败，就引发SIGPIPE信号。
  - 管道内部传输的数据是字节流。大小默认是65526字节，可用fcn

---

emm后面再来看

### fcntl函数

- 对文件描述符各种控制操作。
- 也有那么一个系统调用叫ioctl，且ioctl比fcntl多更多操作，但是fcntl更符合POSIX规范。

`int fcntl(int fd,int cmd,...);`

- fd是文件描述符，cmd参数指定指向何种类型的操作，可能需要3个参数，得看cmd。

- fF_GETFL，F_SETFL是设置FT的状态标志。