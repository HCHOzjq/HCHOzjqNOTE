### 多进程编程

```
1、socket()	创建监听套接字lfd

2、bind()	绑定地址结构struct sockaddr_int addr;

3、listen()

4、while(){

	cfd=accpet();
	pid=fork();
	if(pid==0){//子进程
		close(lfd)//关闭用于建立连接的套接字
		read();
		小转大
		write();
	}else if(pid>0){
	close(cfd);
}
5、子进程：
	close(lfd);
	read();
	小--大
	write()
	父进程：
	注册信号捕捉函数：SIGCHLD
	在回调函数中，完成子进程回收
```

### 多线程并发服务器：

### 

```
1、socket()	创建监听套接字lfd
2、bind()	绑定地址结构struct sockaddr_int addr;
3、listen()
4、while(){
	cfd=accpet();
	pthread_create(&tid,NULL,tfn,NULL);
	pthread_detach(tid);
}
5、子线程：
	void *tfn(void*arg){
		close(lfd);
		read();
		小--大
		write();
	}
	父线程：
```

### 

