```C++
#include<bits/stdc++.h>

using namespace std;
const int maxn=200005;
int val[maxn];
int pos[maxn];
int lowbit(int x)
{
	return x&(-x);
}
int n;int m;
void add(int pos,int d)
{
	while(pos<n+m)
	{
		val[pos]+=d;
		pos+=lowbit(pos);
	}
}

int sum(int pos)
{
	int ans=0;
	while(pos>=1)
	{
		ans+=val[pos];
		pos-=lowbit(pos);
	}
	return ans;
}

int main()
{
	int t;
	scanf("%d",&t);
	while(t--)
	{
		memset(val,0,sizeof val);
		scanf("%d%d",&n,&m);
		for(int i=1;i<=n;i++){
			pos[i]=m+i;
			add(pos[i],1);
		}
		
		for(int i=0;i<m;i++)
		{
			int a;
			scanf("%d",&a);
			if(i)cout<<" ";
			cout<<sum(pos[a]-1);
			add(pos[a],-1);
			add(m-i,1);
			pos[a]=m-i;
		}
		cout<<endl;
	}
}
```

由于后续的操作需要添加到前面去，那么我们只需要把整个数组向后移动m位置，然后每次删除添加的时候，前加到`m-i`位置就ok