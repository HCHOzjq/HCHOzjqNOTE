求多个斜45°正方形的投射线段，是哪些，先找出左点和右点。之后枚举每一个线段，再枚举判断线段的两个点。

分组讨论。

```C++
#include<iostream>
#include<cstdio>
#include<cmath>
using namespace std;

struct node
{
	int left,right,len;
}no[100004];

int main()
{
	int n;
	while(~scanf("%d",&n)&&n)
	{
		for(int i=1;i<=n;i++){
			scanf("%d",&no[i].len);
		}
		for(int i=1;i<=n;i++){
			no[i].left=0;
			for(int j=1;j<i;j++){
				no[i].left=max(no[i].left,no[j].right-abs(no[i].len-no[j].len));
			}
			no[i].right=no[i].left+2*no[i].len;
		}
		
		for(int i=2;i<=n;i++){
			for(int j=1;j<i;j++){
				if(no[j].right>no[i].left){
					if(no[j].right>no[i].left&&no[i].len>no[j].len){
						no[j].right=no[i].left;
					}
					else if(no[j].right>no[i].left&&no[i].len<no[j].len){
						no[i].left=no[j].right;
					}
				}
			}
		} 
		int mark=0;
		for(int i=1;i<=n;i++){
			if(no[i].left>=no[i].right)continue;
			if(mark){
				printf(" ");
			}mark=1;
			printf("%d",i);
		}
		printf("\n");
	}
}
```

