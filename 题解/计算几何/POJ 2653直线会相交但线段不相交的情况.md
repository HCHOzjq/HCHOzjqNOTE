题目要求是将线段一条条放到桌面上，求最顶部的几条线段是哪些。

跨立实验只判断一条边的话，可能会把情况2判断为相交。因为如果将d去判断的话，c的两点延长后的d两边。用c判断的话就判断不出来相交。所以要满足两种情况才可。

![image-20200130160142864](C:\Users\zjq\AppData\Roaming\Typora\typora-user-images\image-20200130160142864.png)

```C++
#include<iostream>
#include<cstring>
#include<vector>
#include<cstdio>
int vis[100005];

struct point
{
	double x,y;
	point(){} 
	point(double xx,double yy){
		x=xx;y=yy;
	}
	point operator-(const point b)const {
		return point(x-b.x,y-b.y);
	}
	double xmul(point a){
		return x*a.y-y*a.x;
	}
};

struct edge
{
	point s,e;
	edge(){} 
	edge(double a,double b,double c,double d):s(a,b),e(c,d){
	}
	bool cross(edge a){
		 return (e-s).xmul(e-a.s)*(e-s).xmul(e-a.e)<0&&
		 		(a.e-a.s).xmul(a.e-s)*(a.e-a.s).xmul(a.e-e)<0;
	}
}e[100005];
using namespace std;
int main()
{
	int n;
	while(~scanf("%d",&n)&&n)
	{
		for(int i=0;i<n;i++){
			double a,b,c,d;
			scanf("%lf%lf%lf%lf",&a,&b,&c,&d);
			e[i]=edge(a,b,c,d);
		}
		vector<int> ans;
		for(int i=0;i<n;i++){
			int ok=1;
			for(int j=i+1;j<n;j++){
				//cout<<i<<":"<<e[i].cross(e[j])<<endl;
				if(e[i].cross(e[j])){
					ok=0;break;
				}
			}
			if(ok){
				ans.push_back(i+1); 
			}
		}
		cout<<"Top sticks: ";
		for(int i=0;i<ans.size();i++){
			if(i)cout<<", ";
			cout<<ans[i];
		} cout<<"."<<endl;
	}
}
```

